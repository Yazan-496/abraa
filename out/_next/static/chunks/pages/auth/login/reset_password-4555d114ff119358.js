(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8071],{94184:function(e,t){var n;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var o=s.apply(null,n);o&&e.push(o)}else if("object"===i)for(var c in n)a.call(n,c)&&n[c]&&e.push(c)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0!==(n=(function(){return s}).apply(t,[]))&&(e.exports=n)}()},10276:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login/reset_password",function(){return n(2061)}])},41907:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(85893),s=n(41664),i=n.n(s),o=n(11163),c=n(37039);function r(e){var t;let{href:n,locale:s,children:r,queryProps:l}=e,u=(0,o.useRouter)(),[d]=(0,c.cQ)(),p=(null==u?void 0:null===(t=u.query)||void 0===t?void 0:t.lang)||null,h=l||null;return null!==p&&null!==h?(0,a.jsx)(i(),{legacyBehavior:!0,href:{pathname:n,query:{queryProps:l,lang:p}},children:r}):null!==p&&null===h?(0,a.jsx)(i(),{legacyBehavior:!0,href:{pathname:n,query:{lang:p}},children:r}):null===p&&null!==h?(0,a.jsx)(i(),{legacyBehavior:!0,href:{pathname:n,query:{propsQuery:h}},children:r}):(0,a.jsx)(i(),{legacyBehavior:!0,href:{pathname:n},children:r})}},2061:function(e,t,n){"use strict";n.r(t);var a=n(85893),s=n(11163),i=n(67294),o=n(94939),c=n.n(o);n(22606);var r=n(9008),l=n.n(r),u=n(50304),d=n(41907);let p=e=>{let t=(0,s.useRouter)(),{pid:n}=t.query,o=null==t?void 0:t.locale,[r,p]=(0,i.useState)(null),[h,f]=(0,i.useState)(!1),[b,m]=(0,i.useState)(t.query.mobile),[g,v]=(0,i.useState)(!0),[x,_]=(0,i.useState)(null),[y,w]=(0,i.useState)(null),[N,j]=(0,i.useState)(!1),S=()=>{r==y?v(!0):v(!1)};return(0,i.useEffect)(()=>{console.log(g)},[g]),(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(l(),{children:(0,a.jsx)("link",{rel:"stylesheet",href:"https://www.abraa.com/assets/css/pages/account.css?v=1.06"})})," ",(0,a.jsxs)("section",{className:"account-container",style:{paddingTop:0},children:[(0,a.jsx)("div",{className:"page-part-background",style:{position:"absolute",left:0,top:0,height:"65%",width:"100%",backgroundSize:"100% auto",backgroundPosition:"bottom",background:"url(https://www.abraa.com/assets/images/Shape.png)"}}),(0,a.jsxs)("div",{className:"top_nav_main",children:[(0,a.jsx)("div",{className:"top_nav left col-12 col-md-auto text-center mb-3 mb-md-0",children:(0,a.jsx)(d.Z,{href:"/",locale:o,children:(0,a.jsx)("a",{children:(0,a.jsx)("img",{className:"regLogo",src:"https://assets.abraacdn.com/assets/images/abraa-logo.svg",alt:"Abraa",title:"Abraa"})})})}),(0,a.jsxs)("div",{className:"top_nav right col-12 col-md-auto text-center ",children:[(0,a.jsx)("a",{href:"",children:"About"}),(0,a.jsx)("a",{href:"",children:"Request a Quote"})]})]}),(0,a.jsx)("div",{className:"container page-settings",children:(0,a.jsxs)("div",{className:"row justify-content-center",children:[(0,a.jsxs)("div",{className:" login-panel sign_content_main d3",id:"loginContainer",children:[(0,a.jsx)("h1",{style:{fontFamily:"roboto",textTransform:"capitalize",fontStyle:"normal",fontWeight:700,fontSize:"36px",lineHeight:"47px",color:"#171725",textAlign:"center",marginBottom:"15px"},className:"text-dubai",children:"Password Recovery"}),(0,a.jsx)("div",{noValidate:"novalidate",children:(0,a.jsxs)("div",{style:{background:"#fff",maxWidth:"510 px",boxShadow:"3px -5px 40px rgb(205 205 212 / 50%)",borderRadius:"16px",padding:"32px 32px 24px"},className:"form_div_main",children:[(0,a.jsxs)("div",{className:" form-group",children:[(0,a.jsx)("label",{htmlFor:"mobile",className:"text-normal",children:"New password*"}),(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("p",{id:"new-psw-alert",style:{color:"red",display:!g&&N?"block":"none"},children:"Please confirm your password well"}),(0,a.jsx)("input",{maxLength:255,id:"password",type:x?"text":"password",required:!0,onChange:e=>p(e.target.value),placeholder:"min 8 char",onKeyUp:S,name:"password",className:"form-control valid","aria-required":"","aria-invalid":"false"})]})]}),(0,a.jsxs)("div",{className:" form-group",children:[(0,a.jsx)("label",{htmlFor:"mobile",className:"text-normal",children:"CONFIRM PASSWORD*"}),(0,a.jsx)("div",{className:"input-group",children:(0,a.jsx)("input",{maxLength:255,id:"confirmpassword",type:x?"text":"password",required:!0,onChange:e=>w(e.target.value),onKeyUp:S,placeholder:"min 8 char",name:"confirmpassword",className:"form-control valid","aria-required":"","aria-invalid":"false"})})]}),(0,a.jsxs)("div",{style:{display:"inline-flex"},className:"form-group",children:[(0,a.jsx)(c(),{onClick:()=>_(!x)}),(0,a.jsx)("label",{style:{marginTop:"8px"},htmlFor:"show-hide-psw",children:"show/hide password"})]}),(0,a.jsx)("button",{style:{backgroundColor:"#1180b0",color:"#fff",height:"50px",width:"100%",margin:0,borderRadius:"4px!important",letterSpacing:"2px",marginTop:"24px",fontFamily:"Inter,poppins",fontWeight:600,fontSize:"14px",lineHeight:"24px"},disabled:null===r||(null==r?void 0:r.length)<8||null===y,onClick:()=>{j(!0),null!==r&&null!==y&&g&&(0,u.r7)("+".concat(t.query.mobile),e=>{t.push({pathname:"/auth/register-new/phoneNumber",query:{skip:!0,success:" Password updated successfully, Please login",password:r,confirmPassword:y,mobile:t.query.mobile}})},e=>{})},className:"btn button_log",children:"Reset Password"})]})}),(0,a.jsxs)("div",{style:{fontFamily:"Inter,poppins",fontWeight:500,fontSize:"14px",lineHeight:"24px",color:"#171725",textAlign:"center"},className:"logingregiser",children:[(0,a.jsx)("div",{className:"login_social "}),(0,a.jsxs)("div",{className:"no_accout_regids",onClick:()=>t.push({pathname:"/auth/login"}),children:["Back to","   ",(0,a.jsx)("a",{style:{color:"#1180b0",fontFamily:"Inter,poppins",fontWeight:500,fontSize:"14px",lineHeight:"24px",textAlign:"center"},children:"Login"})]})]})]}),(0,a.jsxs)("div",{className:" login-panel sign_content_main d3",id:"forgot-pass-container",style:{display:"none"},children:[(0,a.jsx)("h1",{className:"text-dubai",children:"Reset Password "}),(0,a.jsxs)("div",{action:"",className:"col-md-12",method:"post",id:"recover-password",name:"recover-password",noValidate:"novalidate",children:[(0,a.jsx)("div",{className:!0,children:(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)("label",{children:"ACCOUNT*"}),(0,a.jsx)("input",{maxLength:255,id:"mobile2",type:"text",required:!0,placeholder:"Please enter the mobile you registered with",name:"mobile",className:"form-control"})]})})}),(0,a.jsx)("div",{className:!0,children:(0,a.jsx)("div",{className:"button_div",children:(0,a.jsx)("input",{defaultValue:"Reset password",className:"btn button_log registe_btn"})})}),(0,a.jsxs)("div",{className:"no_accout_regids2",children:["Back to ",(0,a.jsx)("a",{id:"back_to_login",children:"login"})]})]})]})]})})]})]})};t.default=(0,s.withRouter)(p)},50304:function(e,t,n){"use strict";n.d(t,{Ai:function(){return x},HV:function(){return j},IG:function(){return i},JC:function(){return N},Ks:function(){return f},LP:function(){return v},M6:function(){return E},MC:function(){return c},Ne:function(){return p},Ps:function(){return S},QQ:function(){return A},SE:function(){return h},Tx:function(){return d},WZ:function(){return u},Xc:function(){return g},Z2:function(){return k},cG:function(){return r},cT:function(){return w},ch:function(){return y},de:function(){return m},e_:function(){return R},mi:function(){return _},ox:function(){return l},r7:function(){return o},zK:function(){return b}});var a=n(92015),s=n(79235);n(34155);let i=async(e,t,n)=>{let{email:i,password:o,mobile_phone:c,signup_country_id:r,roles:l,username:u,user_store:d}=e;await a.b.post("".concat("abraa-backend-users","/public/api/v1/auth/email/signup"),{email:i,password:o,mobile_phone:c,signup_country_id:r,roles:l,username:u,user_store:d}).then(function(e){t(e),console.log("\uD83D\uDE80 ~ file: index.js ~ line 33 ~ res",e),s.h.dispatch({type:"USER_NAME",action:e}),localStorage.setItem("USER_DATA_STORAGE",JSON.stringify({userData:e}))}).catch(function(e){n(e)})},o=async(e,t,n)=>{await a.b.post("".concat("http://65.1.197.155:81","/").concat("abraa-backend-sms","/public/api/v1/otp/verification_code"),{phoneNumber:"".concat(e),sid:"VAfddf1d6ae7e176a6a7bfc4f0e0855c52",channel:"whatsapp"}).then(function(e){t(e),s.h.dispatch({type:"SESSION_INFO",action:e})}).catch(function(e){n(e)})},c=async(e,t,n)=>{let{country:s}=e;await a.b.post("https://countriesnow.space/api/v0.1/countries/cities",{country:s}).then(function(e){let{data:n}=e;t(n)}).catch(function(e){n(e)})},r=async(e,t)=>{await a.b.get("".concat("abraa-backend-users","/public/api/v1/cities")).then(function(t){let{data:n}=t;e(n)}).catch(function(e){t(e)})},l=async(e,t)=>{await a.b.get("https://countriesnow.space/api/v0.1/countries").then(function(t){let{data:n}=t;e(n)}).catch(function(e){t(e)})},u=async(e,t)=>{await a.b.get("".concat("http://65.1.197.155:81","/").concat("abraa-backend-users","/public/api/v1/countries")).then(function(t){let{data:n}=t;e(n)}).catch(function(e){t(e)})},d=(e,t,n)=>{let{mobile:i,password:o}=e;a.b.post("".concat("abraa-backend-users","/public/api/v1/auth/login"),{mobile_phone:i,password:o}).then(function(e){var n;t(e),s.h.dispatch({type:"NAME",action:null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.username}),s.h.dispatch({type:"USER_NAME",action:e}),localStorage.setItem("USER_DATA_STORAGE",JSON.stringify({userData:e}))}).catch(function(e){n(e)})},p=(e,t,n)=>{let{mobile:i,password:o}=e;a.b.post("".concat("abraa-backend-users","/public/api/v1/auth/email/login"),{email:i,password:o}).then(function(e){var n;t(e),s.h.dispatch({type:"NAME",action:null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.username}),s.h.dispatch({type:"USER_NAME",action:e}),localStorage.setItem("USER_DATA_STORAGE",JSON.stringify({userData:e}))}).catch(function(e){n(e)})},h=(e,t)=>{let{mobile:n}=e;a.b.get("".concat("abraa-backend-users","/public/api/v1/auth/email/sendResetPasswordToken/").concat(n)).then(function(e){t(e)})},f=(e,t)=>{let{password:n,confirmPassword:s,pid:i}=e;a.b.post("".concat("abraa-backend-users","/public/api/v1/auth/email/resetPassword"),{confirm_password:s,password:n,reset_password_token:i}).then(function(e){t(e)})},b=(e,t)=>{let{password:n,confirmPassword:s,id_token:i}=e;a.b.post("".concat("abraa-backend-users","/public/api/v1/auth/resetPasswordUsingOTP "),{confirm_password:s,password:n,id_token:i}).then(function(e){t(e)})},m=()=>{localStorage.setItem("USER_DATA_STORAGE",JSON.stringify({userData:null}))},g=(e,t)=>{let{idToken:n}=e;a.b.post("".concat("abraa-backend-users","/public/api/v1/auth/mobile_phone/verify"),{id_token:n}).then(function(e){t(e)})},v=(e,t,n)=>{let{pin:i,sessionInfo:o}=e;a.b.post("".concat("http://65.1.197.155:81","/").concat("abraa-backend-sms","/public/api/v1/otp/verifyPhoneNumber"),{code:i,sessionInfo:o}).then(function(e){t(e),s.h.dispatch({type:"ID_TOKEN",action:null==e?void 0:e.data})}).catch(function(e){n(e)})},x=(e,t,n)=>{a.b.get("".concat("abraa-backend-users","/public/api/v1/users/profile"),{headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){t(e)}).catch(function(e){n(e)})},_=(e,t,n)=>{let{token:s,userData:i}=e;a.b.post("".concat("abraa-backend-users","/public/api/v1/users/update"),i,{headers:{Authorization:"Bearer ".concat(s)}}).then(function(e){t(e)})},y=(e,t,n)=>{a.b.get("".concat("abraa-backend-users","/public/api/v1/users/check_existing_email/").concat(e)).then(function(e){t(e)}).catch(function(e){n(e)})},w=(e,t,n)=>{let{file_name:s,file_path:i}=e;a.b.post("https://stagingacp.abraa.com/api/upload-file",{file_name:s,file_path:i}).then(function(e){t(e)}).catch(function(e){n(e)})},N=(e,t)=>{var n,i,o,c;let r,{limit:l,page:u,sort:d,filter:p}=e;null===(n=s.h.getState().user)||void 0===n||n.role_id,r=null===(i=JSON.parse(localStorage.getItem("USER_DATA_STORAGE")))||void 0===i?void 0:null===(o=i.userData)||void 0===o?void 0:null===(c=o.data)||void 0===c?void 0:c.access_token,a.b.get("".concat("http://65.1.197.155:81","/").concat("abraa-backend-users","/public/api/v1/users/my_kyc_levels"),{headers:{Authorization:"Bearer ".concat(r)},params:{limit:l,page:u,sort:d,filter:p,datatables:!0}}).then(function(e){let{data:n}=e;t(n)}).catch(function(e){})},j=(e,t)=>{var n,s,i;let o;o=null===(n=JSON.parse(localStorage.getItem("USER_DATA_STORAGE")))||void 0===n?void 0:null===(s=n.userData)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.access_token,a.b.get("".concat("http://65.1.197.155:81","/").concat("abraa-backend-users","/public/api/v1/attributes/kyc_extra_fields_of_kyc/").concat(e),{headers:{Authorization:"Bearer ".concat(o)}}).then(function(e){let{data:n}=e;t(n)}).catch(function(e){})},S=(e,t,n)=>{var s,i,o;let c;console.log("\uD83D\uDE80 ~ file: index.js:381 ~ data",e),c=null===(s=JSON.parse(localStorage.getItem("USER_DATA_STORAGE")))||void 0===s?void 0:null===(i=s.userData)||void 0===i?void 0:null===(o=i.data)||void 0===o?void 0:o.access_token,a.b.post("".concat("http://65.1.197.155:81","/").concat("abraa-backend-users","/public/api/v1/attribute_values/save"),{attribute_values:[e]},{headers:{Authorization:"Bearer ".concat(c)}}).then(function(e){let{data:n}=e;t(n)}).catch(function(e){})},k=(e,t,n)=>{a.b.get("/".concat("abraa-backend-stores-products","/public/api/v1/attributes/category/566")).then(function(e){let{data:n}=e;t(n)}).catch(function(e){})},A=(e,t)=>{a.b.get("/".concat("abraa-backend-stores-products","/public/api/v1/categories/roots")).then(function(t){let{data:n}=t;e(n)}).catch(function(e){})},E=(e,t,n)=>{let s=e||"undefined";"undefined"!==s&&a.b.get("/".concat("abraa-backend-stores-products","/public/api/v1/categories/filter/").concat(s)).then(function(e){let{data:n}=e;t(n)}).catch(function(e){})},R=(e,t,n)=>{a.b.get("/".concat("abraa-backend-stores-products","/public/api/v1/categories/category_sons/").concat(e)).then(function(e){let{data:n}=e;t(n)}).catch(function(e){})}},92015:function(e,t,n){"use strict";n.d(t,{b:function(){return u}});var a=n(9669),s=n.n(a),i=n(80129),o=n.n(i),c=n(79235),r=n(40782);function l(e){let t=0;return"+"===e?t=1:"-"===e&&(t=(t=-1)>0?t:0),{c:0,n:t}}let u=s().create({baseURL:"".concat("http://65.1.197.155:81"),headers:{dev:!0}});u.interceptors.request.use(function(e){return!0!==e.silent&&l("+").c,e.params&&(e.paramsSerializer=e=>o().stringify(e)),e.data&&e.noStringify,e},function(e){return Promise.reject(e)}),u.interceptors.response.use(function(e){return!0!==e.config.silent&&(l("-").n,e.data.message&&e.data.message),e.data},function(e){if(!0!==e.config.silent&&l("-").n,e.response){if(!0!==e.config.silent&&""!==e.response.data.error){var t;t=e.response.data.error_code,e.config,"USR_UNAUTHENTICATED"===t&&(c.h.dispatch(_logout()),_historyPush("/"),window.location.reload()),!e.response.data.message.includes("No query")&&e.response.data.message&&(0,r.Am)(e.response.data.message)}}else e.request?e.request._response:e.sync||e.offline;return Promise.reject(e.response)})},22606:function(){},24654:function(){}},function(e){e.O(0,[1664,5077,4939,9774,2888,179],function(){return e(e.s=10276)}),_N_E=e.O()}]);