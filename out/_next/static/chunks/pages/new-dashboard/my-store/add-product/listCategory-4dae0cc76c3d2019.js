(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6276],{3217:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/new-dashboard/my-store/add-product/listCategory",function(){return a(44052)}])},44052:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return i}});var n=a(85893),c=a(67294),o=a(50304);function i(t){let[e,a]=(0,c.useState)([]),[i,s]=(0,c.useState)([]),[r,l]=(0,c.useState)(null),[u,d]=(0,c.useState)(!1);(0,c.useEffect)(()=>{h(r)},[r]),(0,c.useEffect)(()=>{var e;(null===(e=t.categoryArray)||void 0===e?void 0:e.length)>0?d(!1):d(!0)},[t]);let p=[];(0,c.useEffect)(()=>{var e;(null===(e=t.categoryArray)||void 0===e?void 0:e.length)>0&&(p=t.categoryArray.sort(function(t,e){var a,n,c=null===(a=t.category_translations[0])||void 0===a?void 0:a.category_name.toUpperCase(),o=null===(n=e.category_translations[0])||void 0===n?void 0:n.category_name.toUpperCase();return c<o?-1:c>o?1:0})),s(p)},[t]);let h=t=>{d(!0),null!==t&&(0,o.M6)(t,t=>{var e,n,c;setTimeout(()=>{d(!1)},4e3),a((null==t?void 0:null===(e=t.categories)||void 0===e?void 0:null===(n=e.data)||void 0===n?void 0:n.length)>0?null==t?void 0:null===(c=t.categories)||void 0===c?void 0:c.data:null)},t=>{setTimeout(()=>{d(!1)},2e3),console.log(t,"err")}),setTimeout(()=>{d(!1)},1e3)};return(0,c.useEffect)(()=>{console.log(i,"propsArraySortState")},[i]),(0,c.useEffect)(()=>{console.log(r,"searchValue")},[r]),(0,c.useEffect)(()=>{console.log(u,"loading")},[u]),(0,n.jsx)("div",{className:"content",id:"content",children:(0,n.jsxs)("div",{"data-reactroot":!0,className:"modal-content category-modals",style:{color:"black"},children:[(0,n.jsxs)("div",{className:"modal-header",children:[(0,n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,n.jsx)("h4",{className:"modal-title",id:"myModalLabel",children:"List New Product"})]}),(0,n.jsxs)("div",{className:"modal-body",children:[(0,n.jsxs)("div",{className:"input-group search",children:[(0,n.jsx)("input",{type:"text",id:"search_keyval",className:"form-control",onChange:t=>l(t.target.value?t.target.value:null),placeholder:"Please type here what you want to sell",style:{minHeight:50}}),(0,n.jsx)("span",{className:"input-group-addon",onClick:()=>h(r),children:(0,n.jsxs)("a",{href:"#",children:[" ",(0,n.jsx)("i",{className:"fa fa-search"})]})})]}),(0,n.jsx)("div",{className:"selectcattxt simpleor"}),(0,n.jsxs)("div",{className:"selectcattxt",style:{marginBottom:8},children:[" ","Please Select From Below Categories"]}),u?(0,n.jsx)("div",{className:"spinner15-wrapper",children:(0,n.jsx)("div",{className:"spinner14"})}):(0,n.jsx)("div",{className:"search-results",children:i.length>0&&!r?(0,n.jsx)("ul",{children:null==i?void 0:i.map(e=>{var a;return(0,n.jsx)("li",{onClick:()=>{t.handleSelectCategory(e),l(null)},children:(0,n.jsx)("a",{href:"#",id:null==e?void 0:e.id,style:{color:"black"},children:null===(a=null==e?void 0:e.category_translations[0])||void 0===a?void 0:a.category_name})},null==e?void 0:e.id)})}):null!==e?(0,n.jsx)("ul",{children:null==e?void 0:e.map(e=>{var a;return(0,n.jsx)("li",{onClick:()=>{t.handleSelectCategory(e),l(null)},children:(0,n.jsx)("a",{href:"#",id:null==e?void 0:e.id,style:{color:"black"},children:null===(a=null==e?void 0:e.category_translations[0])||void 0===a?void 0:a.category_name})},null==e?void 0:e.id)})}):null===e?(0,n.jsx)("div",{className:"spinner15-wrapper",children:(0,n.jsx)("div",{className:"",children:" No Data Found"})}):(0,n.jsx)("div",{className:"spinner15-wrapper"})}),(0,n.jsx)("div",{children:(0,n.jsxs)("button",{onClick:()=>t.handleMain(!0),style:{color:"#1180b0"},className:"btn btn-simple btn-sm",children:[(0,n.jsx)("i",{style:{color:"#1180b0"},id:"backmainbtn",className:"fa fa-arrow-left"})," Back to Main"]})})]})]})})}},50304:function(t,e,a){"use strict";a.d(e,{Ai:function(){return _},HV:function(){return A},IG:function(){return o},JC:function(){return k},Ks:function(){return f},LP:function(){return m},M6:function(){return j},MC:function(){return s},Ne:function(){return p},Ps:function(){return E},QQ:function(){return w},SE:function(){return h},Tx:function(){return d},WZ:function(){return u},Xc:function(){return g},Z2:function(){return x},cG:function(){return r},cT:function(){return S},ch:function(){return N},de:function(){return v},e_:function(){return T},mi:function(){return y},ox:function(){return l},r7:function(){return i},zK:function(){return b}});var n=a(92015),c=a(79235);a(34155);let o=async(t,e,a)=>{let{email:o,password:i,mobile_phone:s,signup_country_id:r,roles:l,username:u,user_store:d}=t;await n.b.post("".concat("abraa-backend-users","/public/api/v1/auth/email/signup"),{email:o,password:i,mobile_phone:s,signup_country_id:r,roles:l,username:u,user_store:d}).then(function(t){e(t),console.log("\uD83D\uDE80 ~ file: index.js ~ line 33 ~ res",t),c.h.dispatch({type:"USER_NAME",action:t}),localStorage.setItem("USER_DATA_STORAGE",JSON.stringify({userData:t}))}).catch(function(t){a(t)})},i=async(t,e,a)=>{await n.b.post("".concat("http://65.1.197.155:81","/").concat("abraa-backend-sms","/public/api/v1/otp/verification_code"),{phoneNumber:"".concat(t),sid:"VAfddf1d6ae7e176a6a7bfc4f0e0855c52",channel:"whatsapp"}).then(function(t){e(t),c.h.dispatch({type:"SESSION_INFO",action:t})}).catch(function(t){a(t)})},s=async(t,e,a)=>{let{country:c}=t;await n.b.post("https://countriesnow.space/api/v0.1/countries/cities",{country:c}).then(function(t){let{data:a}=t;e(a)}).catch(function(t){a(t)})},r=async(t,e)=>{await n.b.get("".concat("abraa-backend-users","/public/api/v1/cities")).then(function(e){let{data:a}=e;t(a)}).catch(function(t){e(t)})},l=async(t,e)=>{await n.b.get("https://countriesnow.space/api/v0.1/countries").then(function(e){let{data:a}=e;t(a)}).catch(function(t){e(t)})},u=async(t,e)=>{await n.b.get("".concat("http://65.1.197.155:81","/").concat("abraa-backend-users","/public/api/v1/countries")).then(function(e){let{data:a}=e;t(a)}).catch(function(t){e(t)})},d=(t,e,a)=>{let{mobile:o,password:i}=t;n.b.post("".concat("abraa-backend-users","/public/api/v1/auth/login"),{mobile_phone:o,password:i}).then(function(t){var a;e(t),c.h.dispatch({type:"NAME",action:null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.username}),c.h.dispatch({type:"USER_NAME",action:t}),localStorage.setItem("USER_DATA_STORAGE",JSON.stringify({userData:t}))}).catch(function(t){a(t)})},p=(t,e,a)=>{let{mobile:o,password:i}=t;n.b.post("".concat("abraa-backend-users","/public/api/v1/auth/email/login"),{email:o,password:i}).then(function(t){var a;e(t),c.h.dispatch({type:"NAME",action:null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.username}),c.h.dispatch({type:"USER_NAME",action:t}),localStorage.setItem("USER_DATA_STORAGE",JSON.stringify({userData:t}))}).catch(function(t){a(t)})},h=(t,e)=>{let{mobile:a}=t;n.b.get("".concat("abraa-backend-users","/public/api/v1/auth/email/sendResetPasswordToken/").concat(a)).then(function(t){e(t)})},f=(t,e)=>{let{password:a,confirmPassword:c,pid:o}=t;n.b.post("".concat("abraa-backend-users","/public/api/v1/auth/email/resetPassword"),{confirm_password:c,password:a,reset_password_token:o}).then(function(t){e(t)})},b=(t,e)=>{let{password:a,confirmPassword:c,id_token:o}=t;n.b.post("".concat("abraa-backend-users","/public/api/v1/auth/resetPasswordUsingOTP "),{confirm_password:c,password:a,id_token:o}).then(function(t){e(t)})},v=()=>{localStorage.setItem("USER_DATA_STORAGE",JSON.stringify({userData:null}))},g=(t,e)=>{let{idToken:a}=t;n.b.post("".concat("abraa-backend-users","/public/api/v1/auth/mobile_phone/verify"),{id_token:a}).then(function(t){e(t)})},m=(t,e,a)=>{let{pin:o,sessionInfo:i}=t;n.b.post("".concat("http://65.1.197.155:81","/").concat("abraa-backend-sms","/public/api/v1/otp/verifyPhoneNumber"),{code:o,sessionInfo:i}).then(function(t){e(t),c.h.dispatch({type:"ID_TOKEN",action:null==t?void 0:t.data})}).catch(function(t){a(t)})},_=(t,e,a)=>{n.b.get("".concat("abraa-backend-users","/public/api/v1/users/profile"),{headers:{Authorization:"Bearer ".concat(t)}}).then(function(t){e(t)}).catch(function(t){a(t)})},y=(t,e,a)=>{let{token:c,userData:o}=t;n.b.post("".concat("abraa-backend-users","/public/api/v1/users/update"),o,{headers:{Authorization:"Bearer ".concat(c)}}).then(function(t){e(t)})},N=(t,e,a)=>{n.b.get("".concat("abraa-backend-users","/public/api/v1/users/check_existing_email/").concat(t)).then(function(t){e(t)}).catch(function(t){a(t)})},S=(t,e,a)=>{let{file_name:c,file_path:o}=t;n.b.post("https://stagingacp.abraa.com/api/upload-file",{file_name:c,file_path:o}).then(function(t){e(t)}).catch(function(t){a(t)})},k=(t,e)=>{var a,o,i,s;let r,{limit:l,page:u,sort:d,filter:p}=t;null===(a=c.h.getState().user)||void 0===a||a.role_id,r=null===(o=JSON.parse(localStorage.getItem("USER_DATA_STORAGE")))||void 0===o?void 0:null===(i=o.userData)||void 0===i?void 0:null===(s=i.data)||void 0===s?void 0:s.access_token,n.b.get("".concat("http://65.1.197.155:81","/").concat("abraa-backend-users","/public/api/v1/users/my_kyc_levels"),{headers:{Authorization:"Bearer ".concat(r)},params:{limit:l,page:u,sort:d,filter:p,datatables:!0}}).then(function(t){let{data:a}=t;e(a)}).catch(function(t){})},A=(t,e)=>{var a,c,o;let i;i=null===(a=JSON.parse(localStorage.getItem("USER_DATA_STORAGE")))||void 0===a?void 0:null===(c=a.userData)||void 0===c?void 0:null===(o=c.data)||void 0===o?void 0:o.access_token,n.b.get("".concat("http://65.1.197.155:81","/").concat("abraa-backend-users","/public/api/v1/attributes/kyc_extra_fields_of_kyc/").concat(t),{headers:{Authorization:"Bearer ".concat(i)}}).then(function(t){let{data:a}=t;e(a)}).catch(function(t){})},E=(t,e,a)=>{var c,o,i;let s;console.log("\uD83D\uDE80 ~ file: index.js:381 ~ data",t),s=null===(c=JSON.parse(localStorage.getItem("USER_DATA_STORAGE")))||void 0===c?void 0:null===(o=c.userData)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.access_token,n.b.post("".concat("http://65.1.197.155:81","/").concat("abraa-backend-users","/public/api/v1/attribute_values/save"),{attribute_values:[t]},{headers:{Authorization:"Bearer ".concat(s)}}).then(function(t){let{data:a}=t;e(a)}).catch(function(t){})},x=(t,e,a)=>{n.b.get("/".concat("abraa-backend-stores-products","/public/api/v1/attributes/category/566")).then(function(t){let{data:a}=t;e(a)}).catch(function(t){})},w=(t,e)=>{n.b.get("/".concat("abraa-backend-stores-products","/public/api/v1/categories/roots")).then(function(e){let{data:a}=e;t(a)}).catch(function(t){})},j=(t,e,a)=>{let c=t||"undefined";"undefined"!==c&&n.b.get("/".concat("abraa-backend-stores-products","/public/api/v1/categories/filter/").concat(c)).then(function(t){let{data:a}=t;e(a)}).catch(function(t){})},T=(t,e,a)=>{n.b.get("/".concat("abraa-backend-stores-products","/public/api/v1/categories/category_sons/").concat(t)).then(function(t){let{data:a}=t;e(a)}).catch(function(t){})}},92015:function(t,e,a){"use strict";a.d(e,{b:function(){return u}});var n=a(9669),c=a.n(n),o=a(80129),i=a.n(o),s=a(79235),r=a(40782);function l(t){let e=0;return"+"===t?e=1:"-"===t&&(e=(e=-1)>0?e:0),{c:0,n:e}}let u=c().create({baseURL:"".concat("http://65.1.197.155:81"),headers:{dev:!0}});u.interceptors.request.use(function(t){return!0!==t.silent&&l("+").c,t.params&&(t.paramsSerializer=t=>i().stringify(t)),t.data&&t.noStringify,t},function(t){return Promise.reject(t)}),u.interceptors.response.use(function(t){return!0!==t.config.silent&&(l("-").n,t.data.message&&t.data.message),t.data},function(t){if(!0!==t.config.silent&&l("-").n,t.response){if(!0!==t.config.silent&&""!==t.response.data.error){var e;e=t.response.data.error_code,t.config,"USR_UNAUTHENTICATED"===e&&(s.h.dispatch(_logout()),_historyPush("/"),window.location.reload()),!t.response.data.message.includes("No query")&&t.response.data.message&&(0,r.Am)(t.response.data.message)}}else t.request?t.request._response:t.sync||t.offline;return Promise.reject(t.response)})},24654:function(){}},function(t){t.O(0,[5077,9774,2888,179],function(){return t(t.s=3217)}),_N_E=t.O()}]);