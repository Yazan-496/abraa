"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6332],{72808:function(e,a,s){s.r(a);var l=s(85893);let t=e=>(0,l.jsx)(l.Fragment,{children:e.children});a.default=t},86332:function(e,a,s){s.r(a),s.d(a,{default:function(){return X}});var l=s(14924),t=s(85893),i=s(67294),n=s(14416),r=s(34073),o=s(11358),c=s.n(o),d=s(27434),h=s(90044),p=s(50450),u=s(96486),m=s.n(u),x=s(23157),g=s(95106),v=s(87536),j=s(45697),f=s.n(j),y=s(94184),b=s.n(y);let _=e=>{let{children:a,blocking:s,loader:l,className:n,tag:r,overlayColor:o}=e;return(0,t.jsxs)(r,{className:b()("ui-loader",{[n]:n,show:s}),children:[a,s?(0,t.jsxs)(i.Fragment,{children:[(0,t.jsx)("div",{className:"overlay",...s&&o?{style:{backgroundColor:o}}:{}}),(0,t.jsx)("div",{className:"loader",children:l})]}):null]})};_.defaultProps={tag:"div",blocking:!1,loader:(0,t.jsx)(p.$j,{color:"primary"})},_.propTypes={tag:f().string,loader:f().any,className:f().string,overlayColor:f().string,blocking:f().bool.isRequired};var N=s(78268),C=s(86178);let K=e=>{let{title:a,actions:s,children:l,collapseIcon:n,reloadIcon:r,removeIcon:o,endReload:c}=e,[h,u]=(0,i.useState)(!1),[m,x]=(0,i.useState)(!0),[g,v]=(0,i.useState)(!0),j={collapse:n||d.Z,remove:o||N.Z,reload:r||C.Z},f=e=>{switch(e){case"collapse":return x(!m);case"remove":return v(!1);case"reload":return u(!0)}},y=()=>{u(!1)};(0,i.useEffect)(()=>{h&&c(y)});let K="collapse"===s||s.includes("collapse")?p.UO:i.Fragment,k="reload"===s||s.includes("reload")?_:i.Fragment;return(0,t.jsx)(k,{..."reload"===s||s.includes("reload")?{blocking:h}:{},children:(0,t.jsxs)(p.Zb,{className:b()("card-action",{"d-none":!g}),children:[(0,t.jsxs)(p.Ol,{children:[(0,t.jsx)(p.ll,{tag:"h4",children:a}),(0,t.jsx)("div",{className:"action-icons",children:(()=>{if(Array.isArray(s))return s.map((e,a)=>{let l=j[e];return(0,t.jsx)(l,{className:b()("cursor-pointer",{"mr-50":a<s.length-1}),size:15,onClick:()=>f(e)},a)});{let e=j[s];return(0,t.jsx)(e,{className:"cursor-pointer",size:15,onClick:()=>f(s)})}})()})]}),(0,t.jsx)(K,{..."collapse"===s||s.includes("collapse")?{isOpen:m}:{},children:l})]})})};K.propTypes={title:f().any.isRequired,collapseIcon:f().any,removeIcon:f().any,reloadIcon:f().any,actions:f().oneOfType([f().string,f().arrayOf(f().string)]).isRequired,endReload(e){if("reload"===e.actions&&void 0===e.endReload||e.actions.includes("reload")&&void 0===e.endReload)return Error("Please provide a function to end reload!")}};let k=e=>{let{columns:a,onFilter:s}=e,l=(0,n.v9)(e=>e.app.loading),{handleSubmit:i,control:r,reset:o}=(0,v.cI)(),c=()=>{let e={};m().map(a,a=>{a.filter&&a.filter.enabled&&(e[a.selector]="select"===a.type?null:"")}),o(e),s({})},d=e=>{let a={};m().map(e,(e,s)=>{if(m().isArray(e)){let l=m().values(m().mapValues(e,"value"));m().isEmpty(l)||(a[s]=l)}else m().isObject(e)&&""!==e.value?a[s]=e.value:m().isEmpty(e)||(a[s]=e)}),s(a)},h=e=>{let{type:a,options:s=[],isMulti:l=!1}=e.filter;return"select"===a?(0,t.jsx)(v.Qr,{isClearable:!0,isMulti:l,as:x.ZP,control:r,name:e.selector,defaultValue:null,options:s,classNamePrefix:"select"}):"asyncSelect"===a?(0,t.jsx)(v.Qr,{isClearable:!0,isMulti:l,as:g.Z,control:r,name:e.selector,defaultValue:null,classNamePrefix:"select",defaultOptions:!0,cacheOptions:!0,loadOptions:e.filter.loadOptions}):"text"===a?(0,t.jsx)(v.Qr,{as:p.II,control:r,name:e.selector,defaultValue:""}):null},u=(e,a)=>e.filter&&e.filter.enabled?(0,t.jsx)(p.JX,{md:"4",sm:"6",children:(0,t.jsxs)(p.cw,{children:[(0,t.jsx)(p.__,{for:"react-select",children:e.name}),h(e)]})},a):null;return(0,t.jsx)(K,{title:"gen.actions.search",actions:"collapse",children:(0,t.jsx)(p.eW,{className:"border-top",children:(0,t.jsxs)(p.l0,{onSubmit:i(d),children:[(0,t.jsx)(p.X2,{children:m().map(a,u)}),(0,t.jsxs)(p.cw,{row:!0,className:"mt-1",children:[(0,t.jsx)(p.JX,{md:"2",xs:"6",children:(0,t.jsx)(p.zx.Ripple,{type:"submit",color:"primary",block:!0,disabled:l,children:(0,t.jsx)("span",{children:"gen.actions.search"})})}),(0,t.jsx)(p.JX,{md:"2",xs:"6",children:(0,t.jsx)(p.zx.Ripple,{color:"secondary",block:!0,disabled:l,onClick:c,children:(0,t.jsx)("span",{children:"gen.actions.reset"})})})]})]})})})},S=(e,a)=>{let s=[];return s.push({name:"#",cell:(e,s)=>(a.page-1)*a.limit+s+1,grow:0,minWidth:"75px"}),m().map(e,(e,l)=>{e.translatable?m().forEach(a.langArr,(l,i)=>{if(a.langArr.includes(l)){let n={...e};n.name=(0,t.jsxs)("span",{children:[n.name,(0,t.jsx)("small",{className:"text-lowercase text-muted",children:"gen.lang.".concat(l)})]}),n.selector="".concat(n.selector,".").concat(l),s.push(n)}}):s.push(e)}),s};class M extends i.Component{componentDidMount(){this._fetchData()}render(){return(0,t.jsxs)(i.Fragment,{children:[this.state.hasFilter&&(0,t.jsx)(k,{columns:this.props.columns,onFilter:this._onFilter}),(0,t.jsx)(p.Zb,{children:(0,t.jsx)(h.ZP,{noHeader:!0,striped:!0,pagination:!0,paginationServer:!0,sortServer:!0,onSort:this._onSort,disabled:this.props.loading,noDataComponent:"No Data Found",className:"react-dataTable",columns:S(this.props.columns,this.state),sortIcon:(0,t.jsx)(d.Z,{size:10}),paginationComponent:this.CustomPagination,data:this.state.data})})]})}constructor(e){var a;super(e),a=this,(0,l.Z)(this,"_fetchData",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.props._fetchData({...a.state,...e},e=>{a.setState({data:e})})}),(0,l.Z)(this,"_refresh",()=>{this._fetchData({})}),(0,l.Z)(this,"_handlePagination",e=>{this._fetchData({page:e.selected+1})}),(0,l.Z)(this,"_handlePerPage",e=>{this._fetchData({limit:parseInt(e.target.value)})}),(0,l.Z)(this,"_onSort",(e,a)=>{this.setState({sort:[{key:m().replace(e.selector,".","->"),direction:a}]},this._fetchData)}),(0,l.Z)(this,"_onFilter",e=>{this.setState({filter:e,page:1},this._fetchData)}),(0,l.Z)(this,"CustomPagination",()=>{let{page:e,totalPages:a,total:s,limit:l}={...this.state};return(0,t.jsxs)(p.X2,{children:[(0,t.jsx)(p.JX,{children:(0,t.jsxs)("div",{className:"d-flex align-items-center my-1 ",children:[(0,t.jsx)(p.__,{className:"px-1",for:"sort-select",children:"show"}),(0,t.jsxs)(p.II,{className:"dataTable-select",type:"select",id:"sort-select",bsSize:"sm",value:this.state.limit,onChange:e=>this._handlePerPage(e),children:[(0,t.jsx)("option",{value:10,children:"10"}),(0,t.jsx)("option",{value:25,children:"25"}),(0,t.jsx)("option",{value:50,children:"50"}),(0,t.jsx)("option",{value:75,children:"75"}),(0,t.jsx)("option",{value:100,children:"100"})]}),(0,t.jsx)(p.__,{className:"my-1 px-1"})]})}),(0,t.jsx)(p.JX,{children:(0,t.jsx)(c(),{previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:a||1,marginPagesDisplayed:2,pageRangeDisplayed:2,activeClassName:"active",forcePage:0!==e?e-1:0,onPageChange:e=>this._handlePagination(e),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"})})]})}),this.state={data:[{}],total:1,limit:100,page:1,totalPages:1,filter:{},sort:[],hasFilter:!!e.hasFilter&&e.hasFilter,langArr:e.langArr},this._refresh=this._refresh.bind(this)}}let w=e=>{var a;return{loading:null==e?void 0:null===(a=e.app)||void 0===a?void 0:a.loading}};var D=(0,n.$j)(w,null,null,{forwardRef:!0})(M);let Z=e=>{let{breadCrumbMainTitle:a,breadCrumbTitle:s,children:l}=e;return(0,t.jsxs)("div",{className:"content-header row",children:[(0,t.jsx)("div",{className:"content-header-left col-md-9 col-12 mb-2",children:(0,t.jsx)("div",{className:"row breadcrumbs-top",children:(0,t.jsx)("div",{className:"col-12",children:s?(0,t.jsxs)("h2",{className:"content-header-title float-left mb-0 border-right-0",children:[a?(0,t.jsxs)("b",{children:[a,": "]}):"",s]}):""})})}),(0,t.jsx)("div",{className:"content-header-right text-md-right col-md-3 col-12",children:(0,t.jsx)("div",{className:"form-group breadcrum-right dropdown",children:l})})]})};Z.propTypes={breadCrumbTitle:f().any.isRequired,breadCrumbActive:f().string.isRequired};var P=s(22490);let E=(0,i.createContext)();(0,P.M4)(E.Consumer);var R=s(50304),F=s(72808),T=s(51067);let A=(e,a,s,l,i)=>[{name:"ID",selector:"id",sortable:!1,minWidth:"50px",omit:!0,filter:{enabled:!1}},{name:"KYC LEVEL",selector:"kyc_level_translations",sortable:!0,minWidth:"50px",filter:{enabled:!0,type:"text"},cell:(e,a,s,l)=>{var i;return(0,t.jsx)("div",{className:"",children:null==e?void 0:null===(i=e.kyc_level_translations)||void 0===i?void 0:i.map(e=>(0,t.jsx)(p.X2,{children:(0,t.jsx)("span",{children:null==e?void 0:e.name})}))})}},{name:"SEQUENCE",selector:"sequence",sortable:!1,minWidth:"50px"},{name:"ACTIONS",allowOverflow:!0,cell:(e,a,l,i)=>(0,t.jsx)("div",{className:"d-flex",children:(0,t.jsx)(F.default,{action:"NoPermissionCode",id:"deleteKyc_".concat(e.id),children:(0,t.jsxs)("div",{className:"w-100 btn-flat-success",onClick:a=>s(e),children:[(0,t.jsx)(r.Z,{size:20}),(0,t.jsx)("a",{className:"",children:"Expand"})]})})})}],I=["USR_ADD_KYC","USR_UPDATE_KYC","USR_DELETE_KYC"];class O extends i.Component{componentDidMount(){var e,a;null===(e=this.props)||void 0===e||null===(a=e.languages)||void 0===a||a.length}render(){let{KycModalShow:e,KycModalData:a}=this.state.KycModal,s=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],!0}(this.context,I);return(0,t.jsxs)(i.Fragment,{children:[(0,t.jsxs)("div",{className:"col-sm-12",id:"progress-table",children:[(0,t.jsx)(Z,{breadCrumbMainTitle:"KYC Level",breadCrumbTitle:" ",breadCrumbParent:"",breadCrumbActive:""}),(0,t.jsx)("p",{style:{fontWeight:800,fontSize:14},children:"Completeness"}),(0,t.jsx)("div",{className:"progress-card affix-top",children:(0,t.jsx)("div",{className:"progress-header",children:(0,t.jsxs)("div",{className:"progress",children:[(0,t.jsx)("div",{className:"progress-bar progress-bar-success",role:"progressbar","aria-valuenow":"100%","aria-valuemin":0,"aria-valuemax":100,style:{width:"100%"}}),(0,t.jsx)("div",{className:"progress-details",style:{justifyContent:"center",padding:10,color:"rgb(255, 255, 255)",fontSize:14,marginTop:"13px"},children:"100%"})]})})})]}),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(p.X2,{children:(0,t.jsx)(p.JX,{sm:"12",children:(0,t.jsx)(D,{ref:e=>{this.dataTableRef=e},_fetchData:R.JC,columns:A(this.state,this._editKycModal,this.openKyc,s,this.props.languages),hasFilter:!1})})})}),e&&(0,t.jsx)(T.default,{role_id:1,data:a,onClose:this._closeKycModal})]})}constructor(e){super(e),(0,l.Z)(this,"_closeKycModal",()=>{this.setState({KycModal:{KycModalShow:!1,KycModalData:{id:0,kyc_level_translations:[],sequence:null}}})}),(0,l.Z)(this,"_openKycModal",()=>{this.setState({KycModal:{KycModalShow:!0,KycModalData:{id:0,kyc_level_translations:[],sequence:null}}})}),(0,l.Z)(this,"_editKycModal",e=>{this.setState({KycModal:{KycModalShow:!0,KycModalData:{...e}}})}),(0,l.Z)(this,"openKyc",e=>{this.setState({KycModal:{KycModalShow:!0,KycModalData:{...e}}})}),this.state={KycModal:{KycModalShow:!1,KycModalData:{id:0,kyc_level_translations:[],sequence:null}}},this._editKycModal=this._editKycModal.bind(this),this.openKyc=this.openKyc.bind(this)}}(0,l.Z)(O,"contextType",E);let L=e=>{var a,s,l;return{loading:null==e?void 0:null===(a=e.app)||void 0===a?void 0:a.loading,languages:null==e?void 0:null===(s=e.user)||void 0===s?void 0:s.languages,role_id:null==e?void 0:null===(l=e.user)||void 0===l?void 0:l.role_id}};var X=(0,n.$j)(L,null,null,{forwardRef:!0})(O)}}]);